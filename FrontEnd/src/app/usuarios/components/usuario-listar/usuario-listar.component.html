<div class="table">
    <p-table [value]="usuarios" [responsive]="true" [paginator]="true" [rows]="filtro.itensPorPagina" [lazy]="true"
        [totalRecords]="totalRegistros" (onLazyLoad)="aoMudarPagina($event)" #tabela styleClass="ui-table-customers"
        [loading]="loading" [rowHover]="true">
        <ng-template pTemplate="caption">
            <button pButton icon="fas fa-arrow-left fa-2x" pTooltip="Voltar" tooltipPosition="top"
                (click)="backClicked()" class="ui-button-rounded ui-button-secondary"></button>
            <h1>Usuarios</h1>
            <div class="ui-table-globalfilter-container">
                <button pButton label="Novo" routerLink="/usuarios/novo" iconPos="right"
                    icon="pi pi-user-plus"></button>
            </div>
        </ng-template>
        <ng-template pTemplate="header">
            <tr>
                <th></th>
                <th>UserName</th>
                <th>Nome Completo</th>
                <th>E-mail</th>
                <th>Estatus</th>
                <th class="col-acoes-header"></th>
            </tr>
            <tr>
                <th>
                    <p-tableHeaderCheckbox></p-tableHeaderCheckbox>
                </th>
                <th>
                    <input pInputText type="text" [(ngModel)]="filtro.username"
                        (input)="tabela.filter($event.target.value, 'username', 'startsWith')"
                        placeholder="Pesquisar pelo username" class="ui-column-filter">
                </th>
                <th>
                    <input pInputText type="text" [(ngModel)]="filtro.nomeCompleto"
                        (input)="tabela.filter($event.target.value, 'nomeCompleto', 'startsWith')"
                        placeholder="Pesquisar pelo nome" class="ui-column-filter">
                </th>
                <th>
                    <input pInputText type="text" [(ngModel)]="filtro.email"
                        (input)="tabela.filter($event.target.value, 'email', 'startsWith')"
                        placeholder="Pesquisar pelo E-mail" class="ui-column-filter">
                </th>
                <th></th>
                <th></th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-usuario>
            <tr class="ui-selectable-row">
                <td>
                    <p-tableCheckbox [value]="usuario"></p-tableCheckbox>
                </td>
                <td>
                    <span class="ui-column-title">UserName</span>
                    {{ usuario.username }}
                </td>
                <td>
                    <span class="ui-column-title">Nome Completo</span>
                    {{ usuario.nomeCompleto }}
                </td>
                <td>
                    <span class="ui-column-title">E-mail</span>
                    {{ usuario.email }}
                </td>
                <td>
                    <span class="ui-column-title">Estatus</span>
                    <p-inputSwitch [(ngModel)]="usuario.enabled" tooltipPosition="top"
                        pTooltip="{{usuario.enabled ? 'Desativar' : 'Ativar'}}" (click)="alternarStatus(usuario)">
                    </p-inputSwitch>
                </td>
                <td class="col-acoes">
                    <button pButton icon="fas fa-pencil-alt" pTooltip="Editar" tooltipPosition="top"
                        [routerLink]="['/usuarios', usuario.id]"></button>
                    <button pButton icon="fas fa-trash" pTooltip="Excluir" tooltipPosition="top"
                        (click)="confirmarExclusao(usuario)"></button>
                </td>
            </tr>
        </ng-template>
        <ng-template pTemplate="emptymessage">
            <tr>
                <td colspan="6">
                    Nenhum usuario encontrado
                </td>
            </tr>
        </ng-template>
    </p-table>
</div>