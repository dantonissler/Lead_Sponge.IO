<div class="ui-g">
    <div class="ui-g-12">
        <button pButton label="Novo" icon="fa fa-plus" type="button" class="ui-button-secondary"
            (click)="prepararNovoTelefone()"></button>
    </div>
    <div class="ui-g-12">
        <p-table [value]="telefones" [responsive]="true">
            <ng-template pTemplate="header">
                <tr>
                    <th>Numero</th>
                    <th>Tipo</th>
                    <th class="col-acoes-header"></th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-telefone let-rowIndex="rowIndex">
                <tr>
                    <td>{{ telefone.numero }}</td>
                    <td>{{ telefone.tipo === 'RESIDENCIAL' ? 'Residencial' : 
                        telefone.tipo === 'COMERCIAL'? 'Comercial' : 
                        telefone.tipo === 'PESSOAL'? 'Pessoal' : 
                        telefone.tipo === 'PESSOAL'? 'Fax' : 'não informado' }}</td>
                    <td class="col-acoes">
                        <button pButton icon="fas fa-pencil-alt" type="button" pTooltip="Editar" tooltipPosition="top"
                            (click)="prepararEdicaoTelefone(telefone, rowIndex)"></button>

                        <button pButton icon="fa fa-trash" type="button" pTooltip="Excluir" tooltipPosition="top"
                            (click)="removerTelefone(rowIndex)"></button>
                    </td>
                </tr>
            </ng-template>
            <ng-template pTemplate="emptymessage">
                <tr>
                    <td colspan="3">
                        Nenhum telefone cadastrado
                    </td>
                </tr>
            </ng-template>
        </p-table>
    </div>
</div>

<p-dialog [header]="editando ? 'Edição de Telefone' : 'Novo Telefone'" [(visible)]="exbindoFormularioTelefone"
    modal="modal" *ngIf="telefone">
    <form #frmTelefone="ngForm" (ngSubmit)="confirmarTelefone(frmTelefone)">
        <div class="ui-g-12 ui-fluid">
            <p-dropdown [options]="tipos" [(ngModel)]="telefone" name="tipo"
                placeholder="Selecione *" optionLabel="label"></p-dropdown>
        </div>
        <div class="ui-g-12 ui-fluid">
            <div class="ui-inputgroup">
                <span class="ui-inputgroup-addon"><i class="fas fa-phone" style="line-height: 1.25;"></i></span>
                <p-inputMask  placeholder="Telefone *" [(ngModel)]="telefone.numero" 
                    name="numero" mask="(99) 99999-999?9" #numero="ngModel" required minlength="14"></p-inputMask>
            </div>
            <app-message [control]="numero" error="required" 
                text="Informe um numero"></app-message>
        </div>
        <div class="ui-g-12" style="padding-top:130px ;">
            <button pButton type="submit" label="Confirmar" [disabled]="frmTelefone.invalid"></button>
        </div>
    </form>
</p-dialog>